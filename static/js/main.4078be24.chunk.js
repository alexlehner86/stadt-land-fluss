(this["webpackJsonpstadt-land-fluss"]=this["webpackJsonpstadt-land-fluss"]||[]).push([[0],{101:function(e){e.exports=JSON.parse('{"name":"stadt-land-fluss","version":"1.4.1","homepage":"https://alexlehner86.github.io/stadt-land-fluss","private":true,"dependencies":{"@material-ui/core":"^4.9.8","@material-ui/icons":"^4.9.1","@testing-library/jest-dom":"^4.2.4","@testing-library/react":"^9.5.0","@testing-library/user-event":"^7.2.1","@types/jest":"^24.9.1","@types/node":"^12.12.30","@types/react":"^16.9.25","@types/react-dom":"^16.9.5","backspace-disabler":"^1.1.3","lodash":"^4.17.15","pubnub":"^4.27.4","pubnub-react":"^2.0.0","random-item":"^3.0.0","react":"^16.13.1","react-dom":"^16.13.1","react-redux":"^7.2.0","react-router":"^5.1.2","react-router-dom":"^5.1.2","react-scripts":"3.4.1","redux":"^4.0.5","typescript":"^3.7.5","uuid":"^7.0.2"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","predeploy":"npm run build","deploy":"gh-pages -d build"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"@types/lodash":"^4.14.149","@types/pubnub":"^4.27.2","@types/react-redux":"^7.1.7","@types/react-router-dom":"^5.1.3","@types/uuid":"^7.0.2","gh-pages":"^2.2.0"}}')},143:function(e,t,a){e.exports=a(172)},144:function(e,t,a){},149:function(e,t,a){},154:function(e,t,a){},157:function(e,t,a){},158:function(e,t,a){},159:function(e,t,a){},160:function(e,t,a){},162:function(e,t,a){},163:function(e,t,a){},164:function(e,t,a){},166:function(e,t,a){},167:function(e,t,a){},168:function(e,t,a){},169:function(e,t,a){},170:function(e){e.exports=JSON.parse('{"publishKey":"pub-c-cea13e04-e3aa-434b-806f-fc890fbd45bf","subscribeKey":"sub-c-66cfccd4-6c89-11ea-a7c4-5e95b827fd71"}')},172:function(e,t,a){"use strict";a.r(t),a.d(t,"appStore",(function(){return Qa}));a(144);var n,r=a(0),i=a.n(r),l=a(10),s=a.n(l),o=a(68),c=a(12),u=a(13),m=a(21),d=a(22),p=(a(149),a(228)),h=a(20),f=a(46),g=a(42),b=a(234),y=(a(154),a(173)),v=a(133),E=a(211),w=a(111),S=a.n(w),k=a(110),I=a.n(k),C=a(101),O=a(102),N=a.n(O),P=a(103),R=a.n(P),j=a(104),A=a.n(j),T=a(105),x=a.n(T),F=a(90),D=a.n(F),M=a(106),z=a.n(M),G=a(107),L=a.n(G),B=a(108),W=a.n(B),_=a(109),K=a.n(_),U=a(132);!function(e){e.green="green",e.blue="blue",e.orange="orange",e.pink="pink",e.black="black"}(n||(n={}));var V,H=[{id:n.green,animationBackgroundColor:"rgb(31, 121, 52)",className:"green-theme",displayName:"Gr\xfcn/Wald",muiTheme:Object(U.a)({palette:{primary:N.a,secondary:R.a}}),style:{background:"linear-gradient(rgba(60, 143, 80, 0.3), rgba(60, 143, 80, 0.3)),\n                url('".concat("/stadt-land-fluss","/assets/leaves-pattern.jpg')")}},{id:n.blue,animationBackgroundColor:"rgb(9, 100, 204)",className:"blue-theme",displayName:"Blau/Meer",muiTheme:Object(U.a)({palette:{primary:A.a,secondary:x.a}}),style:{background:"linear-gradient(rgba(255, 255, 255, 0.3), rgba(255, 255, 255, 0.3)),\n                url('".concat("/stadt-land-fluss","/assets/sea-pattern.jpg')")}},{id:n.orange,animationBackgroundColor:"rgb(187, 138, 5)",className:"orange-theme",displayName:"Orange/Strand",muiTheme:Object(U.a)({palette:{primary:D.a,secondary:z.a}}),style:{background:"linear-gradient(rgba(241, 179, 8, 0.3), rgba(240, 188, 47, 0.3)),\n                url('".concat("/stadt-land-fluss","/assets/beach-pattern.jpg')")}},{id:n.pink,animationBackgroundColor:"rgb(167, 34, 207)",className:"pink-theme",displayName:"Pink/Musik",muiTheme:Object(U.a)({palette:{primary:L.a,secondary:W.a}}),style:{background:"linear-gradient(rgba(133, 14, 103, 0.3), rgba(133, 14, 103, 0.3)),\n                url('".concat("/stadt-land-fluss","/assets/music-pattern.jpg')")}},{id:n.black,animationBackgroundColor:"rgb(0, 0, 0)",className:"black-theme",displayName:"Schwarz/Goth",muiTheme:Object(U.a)({palette:{primary:K.a,secondary:D.a}}),style:{background:"linear-gradient(rgba(0, 51, 153, 0.1), rgba(0, 51, 153, 0.1)),\n                url('".concat("/stadt-land-fluss","/assets/halloween-pattern.jpg')")}}],q=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={anchorEl:null,version:""},e.handleManualButtonClick=function(){e.props.history.push("/manual")},e.handleThemePickerClick=function(t){e.setState({anchorEl:t.currentTarget})},e.handleThemePickerMenuClose=function(){e.setState({anchorEl:null})},e.handleThemePickerMenuItemClick=function(t){e.setState({anchorEl:null}),e.props.switchTheme(t)},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=i.a.createElement("p",null,"Spieler: ",this.props.playerName?this.props.playerName:"-");return i.a.createElement("header",{className:"app-header "+this.props.theme.className},i.a.createElement("h1",null,"Stadt-Land-Fluss"),t,i.a.createElement("div",{className:"about-section"},i.a.createElement("p",null,"v",this.state.version),i.a.createElement("a",{href:"https://github.com/alexlehner86",target:"_blank",rel:"noopener noreferrer","aria-label":"Mehr \xfcber den Autor erfahren (\xf6ffnet neues Fenster)"},"Autor")),i.a.createElement("div",{className:"icon-button-wrapper"},i.a.createElement(y.a,{className:"slf-icon-button",size:"small",title:"Spielanleitung","aria-label":"Spielanleitung",onClick:this.handleManualButtonClick},i.a.createElement(I.a,{fontSize:"small"})),i.a.createElement(y.a,{className:"slf-icon-button",size:"small",title:"Theme \xe4ndern","aria-label":"Theme \xe4ndern","aria-controls":"theme-picker-menu","aria-haspopup":"true",onClick:this.handleThemePickerClick},i.a.createElement(S.a,{fontSize:"small"})),i.a.createElement(v.a,{id:"theme-picker-menu",anchorEl:this.state.anchorEl,keepMounted:!0,open:Boolean(this.state.anchorEl),onClose:this.handleThemePickerMenuClose},H.map((function(t,a){return i.a.createElement(E.a,{key:"theme-picker-menu-item-"+a,onClick:function(){return e.handleThemePickerMenuItemClick(t)}},t.displayName)})))))}},{key:"componentDidMount",value:function(){this.setState({version:C.version})}}]),a}(r.Component),J=Object(g.f)(Object(h.b)((function(e){return{playerName:e.playerInfo?e.playerInfo.name:""}}))(q)),Z=(a(157),a(213)),Y=(a(158),a(212)),X=function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("h2",{className:"section-header"},e.text),e.showDivider?i.a.createElement(Y.a,null):null)},Q=a(113),$=a.n(Q),ee=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=i.a.createElement(Z.a,{component:f.b,to:"/play",className:"rejoin-game-link"},i.a.createElement($.a,null),"Zur\xfcck ins laufende Spiel");return i.a.createElement("div",{className:"main-content-wrapper"},i.a.createElement("div",{className:"dashboard-container material-card-style"},i.a.createElement(X,{showDivider:!0,text:"Dashboard"}),i.a.createElement("div",{className:"link-container"},this.props.gameId?e:null,i.a.createElement(Z.a,{component:f.b,to:"/newgame"},"Neues Spiel"),i.a.createElement(Z.a,{component:f.b,to:"/joingame"},"Spiel beitreten")),i.a.createElement("img",{src:"".concat("/stadt-land-fluss","/assets/city-country-river.jpg"),alt:"Stadt, Land, Fluss",className:"dashboard-slf-image"}),i.a.createElement("div",{className:"img-copyright"},i.a.createElement("h3",null,"Credits/Bilder"),i.a.createElement("a",{href:"https://www.vecteezy.com/vector-art/830131-river-city-landscape-with-buildings-hills-and-trees",target:"_blank",rel:"noopener noreferrer"},"Homepage/Stadt-Land-Fluss by pikgura \u2013 www.vecteezy.com"),i.a.createElement("a",{href:"https://www.vecteezy.com/vector-art/276920-abstract-seamless-pattern-with-tropical-leaves",target:"_blank",rel:"noopener noreferrer"},"Theme Gr\xfcn/Wald by NadiaGrapes \u2013 www.vecteezy.com"),i.a.createElement("a",{href:"https://www.freepik.com/free-photos-vectors/background",target:"_blank",rel:"noopener noreferrer"},"Theme Blau/Meer by macrovector \u2013 www.freepik.com"),i.a.createElement("a",{href:"https://www.vecteezy.com/vector-art/460735-seashell-sand-seamless-pattern",target:"_blank",rel:"noopener noreferrer"},"Theme Orange/Strand by Macrovector \u2013 www.vecteezy.com"),i.a.createElement("a",{href:"https://www.vecteezy.com/vector-art/454258-music-seamless",target:"_blank",rel:"noopener noreferrer"},"Theme Pink/Musik by Macrovector \u2013 www.vecteezy.com"),i.a.createElement("a",{href:"https://www.vecteezy.com/vector-art/662038-cat-and-bat-pattern",target:"_blank",rel:"noopener noreferrer"},"Theme Schwarz/Goth by angyee \u2013 www.vecteezy.com"))))}}]),a}(r.Component),te=Object(h.b)((function(e){return{gameId:e.gameId}}))(ee),ae=(a(159),a(78)),ne=a.n(ae),re=a(79),ie=a.n(re),le=a(80),se=a.n(le),oe=a(63),ce=a.n(oe),ue=(a(160),a(214)),me=a(114),de=a.n(me),pe=function(e){return i.a.createElement("div",{className:"button-wrapper to-dashboard-button"},i.a.createElement(ue.a,{type:"button",color:"default",variant:"contained",size:"large",startIcon:i.a.createElement(de.a,null),onClick:e.onReturnToDashboard},"Dashboard"))},he=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],fe=["Q","X","Y"],ge=["Stadt","Land","Fluss/Gew\xe4sser"],be=["Band/Musiker","Berg/Gebirge","Beruf","Ber\xfchmte Person","Buchtitel","Chemisches Element","Dinge die man jeden Tag macht","Etwas Eckiges","Etwas Rundes","Fiktiver Charakter","Film/Serie","Getr\xe4nk","Grund f\xfcr eine Versp\xe4tung","Hobby","In Zeiten des Corona-Lockdowns verboten","K\xf6nnte ein Trump-Tweet sein","K\xf6rperteil","Krankheit","Laster","Marke","Mordwaffe","Pflanze","Pizzasorte","Porno-K\xfcnstlername","Religion","Scheidungsgrund","Schimpfwort","See/Meer","Sehensw\xfcrdigkeit","Sex (Stellung, Synonym)","Speise","Tier","Title of your Sex Tape","Unn\xf6tige Superkraft","Videospiel","Was bei einer Zoom-Konferenz schiefgehen kann","Werkzeug","Wort in einer Fremdsprache"];!function(e){e.waitingToStart="waitingToStart",e.fillOutTextfields="fillOutTextfields",e.evaluateRound="evaluateRound"}(V||(V={}));var ye,ve={checkForDuplicates:"Wenn zwei oder mehr Spieler einen identischen Begriff in einer Kategorie eintragen,\n        so z\xe4hlt dieser nur ".concat(5," statt ").concat(10," Punkte."),creativeAnswersExtraPoints:"Von Mitspielern als besonders kreativ oder lustig ausgezeichnete Begriffe bringen ".concat(5," Extrapunkte."),onlyPlayerWithValidAnswer:"Wenn ein Spieler als einziger einen zul\xe4ssigen Begriff in einer Kategorie\n        eintr\xe4gt, so z\xe4hlt dieser Begriff ".concat(20," statt ").concat(10," Punkte.")},Ee=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).returnToDashboard=function(){e.props.history.push("/")},e}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"main-content-wrapper"},i.a.createElement("div",{className:"dashboard-container material-card-style slf-game-manual"},i.a.createElement(X,{showDivider:!0,text:"Spielanleitung"}),i.a.createElement("p",null,"Willkommen bei ",i.a.createElement("span",null,"Stadt-Land-Fluss (MALEX-Edition)"),", einer modernen Version des"," ",i.a.createElement("a",{href:"https://de.wikipedia.org/wiki/Stadt,_Land,_Fluss",target:"_blank",rel:"noopener noreferrer"},"Spiele-Klassikers")," ","mit neuen, lustigen Kategorien."),i.a.createElement("h3",null,"Allgemeines"),i.a.createElement("p",null,"Auf der Startseite kann man \xfcber ",i.a.createElement("span",null,"Neues Spiel")," ein neues Spiel erstellen bzw. \xfcber ",i.a.createElement("span",null,"Spiel beitreten")," einem bereits erstellten Spiel beitreten (siehe unten). Die Website bietet f\xfcnf verschiedene Themes zur Auswahl. Das aktuelle Theme kann \xfcber den Pinsel-Button rechts im Header ge\xe4ndert werden. Die Theme-Auswahl des Nutzers sowie der zuletzt gew\xe4hlte Spielername wird im"," ",i.a.createElement("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage",target:"_blank",rel:"noopener noreferrer"},"Local Storage")," ","des Browsers gespeichert."),i.a.createElement("h3",null,"Neues Spiel"),i.a.createElement("p",null,"Um ein neues Spiel zu erstellen, muss der Nutzer einen Spielernamen eingeben, die Anzahl der zu spielenden Runden festlegen und mindestens drei Kategorien ausw\xe4hlen. Es stehen 40 vordefinierte Kategorien zur Auswahl, darunter Klassiker wie ",i.a.createElement("span",null,"Stadt"),", ",i.a.createElement("span",null,"Land")," und ",i.a.createElement("span",null,"Fluss/Gew\xe4sser"),", jedoch auch neue, lustige Kategorien wie ",i.a.createElement("span",null,"K\xf6nnte ein Trump-Tweet sein"),", ",i.a.createElement("span",null,"Scheidungsgrund")," oder ",i.a.createElement("span",null,"Unn\xf6tige Superkraft"),". \xdcber den ",i.a.createElement(ne.a,{fontSize:"small",className:"inline-material-icon"}),"-Button am Ende der Kategorien-Liste l\xe4sst sich auch jede beliebige, weitere Kategorie hinzuf\xfcgen und f\xfcr das Spiel ausw\xe4hlen."),i.a.createElement("p",null,"Im Bereich ",i.a.createElement("span",null,"Weitere Optionen")," k\xf6nnen optional weitere Einstellungen vorgenommen werden. Der Nutzer kann bestimmen, welche Buchstaben ausgeschlossen werden sollen. Standardm\xe4\xdfig sind hier Q, X und Y ausgew\xe4hlt. Weiters stehen drei zus\xe4tzliche ",i.a.createElement("span",null,"Regeln f\xfcr die Punktevergabe")," zur Auswahl, von denen die ersten beiden vorausgew\xe4hlt sind:"),i.a.createElement("ul",null,i.a.createElement("li",null,ve.checkForDuplicates),i.a.createElement("li",null,ve.onlyPlayerWithValidAnswer),i.a.createElement("li",null,ve.creativeAnswersExtraPoints)),i.a.createElement("p",null,"Nach einem Klick auf ",i.a.createElement("span",null,"Spiel erstellen")," gelangt der Nutzer zur Spiel-\xdcbersicht, wo alle Settings f\xfcr das erstellte Spiel sowie die bisher dem Spiel beigetretenen Mitspieler sichtbar sind. Zu Beginn ist nur der Nutzer, der das Spiel erstellt hat, als Administrator in der Mitspieler-Liste sichtbar. Es m\xfcssen mindestens zwei Spieler an einem Spiel teilnehmen, damit dieses starten kann. Unten auf der Seite wird dem Administrator ein Link zum Teilen mit Freunden angeboten. Ein Klick auf den ",i.a.createElement(ie.a,{fontSize:"small",className:"inline-material-icon"}),"-Button rechts vom Link kopiert diesen in die Zwischenablage. \xdcber diesen Link gelangen andere Mitspieler direkt zur ",i.a.createElement("span",null,"Spiel beitreten"),"-Seite, wo das Feld Spiel-ID bereits vorausgef\xfcllt wird."),i.a.createElement("h3",null,"Spiel beitreten"),i.a.createElement("p",null,"Um einem bereits erstellten Spiel beizutreten, muss der Nutzer einen Spielernamen sowie die Spiel-ID eingeben. Die Spiel-ID erh\xe4lt der Nutzer von einem anderen Mitspieler bzw. sie wird von der Website automatisch in das Feld eingetragen, wenn der Nutzer dem Link des Administrators gefolgt ist."),i.a.createElement("h3",null,"Spielablauf"),i.a.createElement("p",null,"Nachdem der Spiel-Administrator das Spiel gestartet hat, l\xe4uft jede Runde folgenderma\xdfen ab:"),i.a.createElement("ol",null,i.a.createElement("li",null,"Eine kurze Animation offenbart den Buchstaben f\xfcr die neue Runde."),i.a.createElement("li",null,"Die Runde startet: Jeder Spieler sieht eine Liste an Eingabefeldern, eines pro Kategorie, zum Eintragen der Begriffe bzw. Phrasen."),i.a.createElement("li",null,"Abh\xe4ngig vom gew\xe4hlten Spielmodus endet die Runde, sobald der erste Spieler auf den Abschicken-Button rechts unten auf der Seite geklickt hat oder wenn die festgelegte Rundendauer abgelaufen ist."),i.a.createElement("li",null,"Nachdem die Runde beendet ist, wird jedem Spieler eine \xdcbersicht aller Begriffe aller Spieler pro Kategorie angezeigt. Grunds\xe4tzlich z\xe4hlt ein g\xfcltiger Begriff 10 Punkte, au\xdfer die gew\xe4hlten Regeln besagen etwas anderes (siehe oben). Falls ein Spieler in ein Feld nichts eingetragen hat, wird dieses automatisch als 0 Punkte gewertet. \xdcber den ",i.a.createElement(ce.a,{fontSize:"small",className:"inline-material-icon"}),"-Button k\xf6nnen die Spieler konkrete Antworten ablehnen. Abh\xe4ngig von der Spieleranzahl f\xfchrt dies dazu, dass der jeweilige Spieler keine Punkte f\xfcr die Antwort erh\xe4lt. Bei zwei bis drei Spielern reicht die Ablehnung durch einen Mitspieler aus. Bei mehr als drei Spielern m\xfcssen mindesten zwei Spieler eine Antwort ablehnen. Die Ablehnung einer Antwort kann durch erneutes Klicken auf den Button wieder zur\xfcckgezogen werden."),i.a.createElement("li",null,"\xdcber den Best\xe4tigen-Button rechts unten auf der Seite muss ein Spieler signalisieren, dass sie oder er mit der Analyse der Antworten fertig und bereit f\xfcr die n\xe4chste Runde ist. Erst wenn alle Spieler den Button geklickt haben, startet die n\xe4chste Runde (siehe Schritt 1) bzw. endet das Spiel.")),i.a.createElement("p",null,"Hinweis: Falls ein Mitspieler aus irgendeinem Grund (Browserabsturz, Akku leer etc.) aus dem Spiel fliegt, kann sie oder er \xfcber den ",i.a.createElement("span",null,"Zur\xfcck ins laufende Spiel-Button")," wieder ins Spiel zur\xfcckkehren. Dieser findet sich auf der Startseite. Dar\xfcber hinaus hat der Administrator in einem laufenden Spiel die M\xf6glichkeit, \xfcber den ",i.a.createElement(se.a,{fontSize:"small",className:"inline-material-icon"}),"-Button (rechts oben, unterhalb des Headers) andere Spieler aus dem Spiel zu werfen. Nat\xfcrlich nur in Notf\xe4llen ;)"),i.a.createElement("h3",null,"Spielende"),i.a.createElement("p",null,"Am Ende des Spiels gelangt der Nutzer auf die ",i.a.createElement("span",null,"Ergebnisseite"),", wo ein Ranking der Mitspieler nach erzielten Punkten sowie die Details zum Spiel (Buchstaben, Anzahl Runden, Kategorien etc.) dargestellt werden.")),i.a.createElement(pe,{onReturnToDashboard:this.returnToDashboard}))}}]),a}(r.Component),we=a(18),Se=a(210),ke=a(174),Ie=a(215),Ce=a(216),Oe=a(82),Ne=a.n(Oe),Pe=a(116),Re=a.n(Pe),je=function(e){var t=e.rules;return t.checkForDuplicates||t.onlyPlayerWithValidAnswer||t.creativeAnswersExtraPoints?i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,"Regeln f\xfcr Punktevergabe:"),i.a.createElement("ul",null,t.checkForDuplicates?i.a.createElement("li",null,ve.checkForDuplicates):null,t.onlyPlayerWithValidAnswer?i.a.createElement("li",null,ve.onlyPlayerWithValidAnswer):null,t.creativeAnswersExtraPoints?i.a.createElement("li",null,ve.creativeAnswersExtraPoints):null)):null},Ae=function(e){return{type:"SET_DATA_FOR_NEW_GAME",payload:e}},Te=a(24),xe=a(25),Fe=a(115),De=a.n(Fe),Me=function(e){return e.getTime()/1e3|0},ze=function(e){var t=new Map;return Object.keys(e).forEach((function(a){return t.set(a,e[a])})),t},Ge=function(e){var t={};return e.forEach((function(e,a){return t[a]=e})),t},Le=function(e){return localStorage.setItem("SLF-APP-THEME",e)},Be=function(e){return localStorage.setItem("SLF-PLAYER-INFO",JSON.stringify(e))},We=function(e){return localStorage.setItem("SLF-RUNNING-GAME-INFO",JSON.stringify(e))},_e=function(){var e=localStorage.getItem("SLF-RUNNING-GAME-CONFIG");return e?JSON.parse(e):null},Ke=function(e){return localStorage.setItem("SLF-RUNNING-GAME-CONFIG",JSON.stringify(e))},Ue=function(e){var t=localStorage.getItem("SLF-RUNNING-GAME-ROUND-"+e);return t?ze(JSON.parse(t)):null},Ve=function(e,t){localStorage.setItem("SLF-RUNNING-GAME-ROUND-"+e,JSON.stringify(Ge(t)))},He=function(){localStorage.removeItem("SLF-RUNNING-GAME-INFO"),localStorage.removeItem("SLF-RUNNING-GAME-CONFIG");for(var e=1;e<=15;e++)localStorage.removeItem("SLF-RUNNING-GAME-ROUND-"+e)},qe=function(e,t){if(e>t.length)throw new Error("Cannot create more randomn unique letters than the number of possibleLetters provided!");for(var a=[],n=Object(we.a)(t),r=function(e){var t=De()(n);a.push(t),n=n.filter((function(e){return e!==t}))},i=0;i<e;i++)r();return a},Je=function(e){return Array.from(e).map((function(e){return e[1]})).sort((function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?-1:e.name.toLowerCase()>t.name.toLowerCase()?1:0}))},Ze=function(e){return t={points:10,star:!1,text:"",valid:!0},new Array(e).fill(t);var t},Ye=function(e){return e.map((function(e){return Object(Te.a)({},e,{text:e.text.trim(),valid:!!e.text})}))},Xe=function(e,t){var a=new Map;return e.forEach((function(n){var r=[];t.forEach((function(t){var a=new Map;e.forEach((function(e){a.set(e.id,!0)})),r.push(a)})),a.set(n.id,r)})),a},Qe=function(e,t){if(e.checkForDuplicates||e.onlyPlayerWithValidAnswer)for(var a=t.keys().next().value,n=t.get(a),r=0;r<n.length;r++)$e(e,t,r)},$e=function(e,t,a){(e.checkForDuplicates||e.onlyPlayerWithValidAnswer)&&Array.from(t.keys()).forEach((function(n){var r=t.get(n);r[a].valid&&(e.onlyPlayerWithValidAnswer&&et(n,t,a)?r[a].points=20:e.checkForDuplicates&&tt(n,t,a)?r[a].points=5:r[a].points=10)}))},et=function(e,t,a){var n=Array.from(t.keys()).filter((function(t){return t!==e})),r=!0;return n.forEach((function(e){return r=r&&!t.get(e)[a].valid})),r},tt=function(e,t,a){var n=Array.from(t.keys()).filter((function(t){return t!==e})),r=t.get(e)[a].text.toLowerCase();return Object(xe.some)(n,(function(e){var n=t.get(e)[a];return n.valid&&r===n.text.toLowerCase()}))},at=function(e){return e<=3?1:2},nt=function(e){var t=0;return e.forEach((function(e){return t=e?t:t+1})),t},rt=function(e,t){var a=[],n={};return e.forEach((function(e,t){return n[t]={playerName:e.name,points:0}})),t.forEach((function(e){e.forEach((function(e,t){var a=e.reduce((function(e,t){return t.valid?e+t.points:e}),0);n[t].points+=a}))})),Object.keys(n).forEach((function(e){return a.push(n[e])})),a.sort((function(e,t){return t.points-e.points}))},it=function(e,t,a){if(e.id===a)return!1;if(e.isAdmin)return!0;var n=t.get(a);if(n&&n.isAdmin){var r=Object(xe.cloneDeep)(t);return r.delete(a),Array.from(r).map((function(e){return e[1]})).sort((function(e,t){return e.id<t.id?-1:e.id>t.id?1:0}))[0].id===e.id}return!1},lt=function(e,t){var a=new Map;e.forEach((function(e,n){a.set(n,e.map((function(e){var a=[];return t.forEach((function(t){return a.push(e.get(t.id))})),a})))}));var n=[];return t.forEach((function(e){return n.push(a.get(e.id))})),n},st=function(e,t){var a=new Map;return t.forEach((function(n,r){var i=e[r].map((function(e){var a=new Map;return t.forEach((function(t,n){return a.set(t.id,e[n])})),a}));a.set(n.id,i)})),a},ot=function(e){for(var t=[],a=1;a<=e;a++){var n=Ue(a);n&&t.push(n)}return t},ct=function(e,t,a,n){n.forEach((function(e,n){var r=t.get(n);e.forEach((function(e,t){e.valid&&(e.valid=nt(r[t])<a)}))})),Qe(e,n)},ut=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={gameResults:[]},e.getResultIcon=function(e){return e?i.a.createElement(Re.a,{color:"primary",fontSize:"large"}):i.a.createElement(Ne.a,{fontSize:"large"})},e.returnToDashboard=function(){e.props.history.push("/"),e.props.onResetAppState()},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this;if(null===this.props.gameRounds)return null;var t=this.props.gameConfig,a=Math.max.apply(Math,Object(we.a)(this.state.gameResults.map((function(e){return e.points}))));return i.a.createElement("div",{className:"main-content-wrapper"},i.a.createElement("div",{className:"material-card-style"},i.a.createElement(X,{showDivider:!0,text:"Ergebnis"}),i.a.createElement(Se.a,null,this.state.gameResults.map((function(t,n){return i.a.createElement(ke.a,{key:"results-for-player-"+n},i.a.createElement(Ie.a,null,e.getResultIcon(t.points===a)),i.a.createElement(Ce.a,{primary:t.playerName,secondary:"".concat(t.points," ").concat((r=t.points,l="Punkt",s="Punkte",1===r?l:s))}));var r,l,s})))),i.a.createElement("div",{className:"material-card-style"},i.a.createElement(X,{showDivider:!0,text:"Spiele-Settings"}),i.a.createElement("p",null,"Runden: ",t.numberOfRounds),i.a.createElement("p",null,"Buchstaben: ",t.letters.join(", ")),i.a.createElement("p",null,"Kategorien: ",t.categories.join(", ")),i.a.createElement(je,{rules:t.scoringOptions})),i.a.createElement(pe,{onReturnToDashboard:this.returnToDashboard}))}},{key:"componentDidMount",value:function(){null!==this.props.allPlayers&&null!==this.props.gameRounds?this.setState({gameResults:rt(this.props.allPlayers,this.props.gameRounds)}):this.props.history.push("/")}}]),a}(r.Component),mt=Object(h.b)((function(e){return e}),(function(e){return{onResetAppState:function(){return e({type:"RESET_APP_STATE"})}}}))(ut),dt=a(58),pt=(a(162),a(229)),ht=a(117),ft=a.n(ht);a(163);!function(e){e.newgame="newgame",e.joingame="joingame"}(ye||(ye={}));var gt,bt=function(e){var t="newgame"===e.context?"ein neues Spiel erstellst":"einem anderen Spiel beitrittst",a="Du nimmst bereits an einem laufenden Spiel teil. Wenn du ".concat(t,",\n    kannst du nicht mehr in das alte Spiel zur\xfcckkehren!");return i.a.createElement("div",{className:"material-card-style"},i.a.createElement("p",{className:"rejoin-running-game-hint-text"},i.a.createElement("span",{className:"rejoin-running-game-hint-highlighted"},"Achtung: "),a),i.a.createElement(Z.a,{component:f.b,to:"/play",className:"bold-text"},"\u21d2 Zur\xfcck ins laufende Spiel"))},yt=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={idInput:"",nameInput:e.props.playerInfo?e.props.playerInfo.name:"",validateInputs:!1},e.handleInputChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(dt.a)({},n,r))},e.handleSubmit=function(t){t.preventDefault(),e.state.idInput&&e.state.nameInput.trim()?e.joinGame():e.setState({nameInput:e.state.nameInput.trim(),validateInputs:!0})},e.joinGame=function(){var t=e.props.playerInfo,a=e.props.playerIdCreationTimestamp,n=e.state,r=n.idInput,i=n.nameInput;He(),Be({id:t.id,idCreationTimestamp:a,name:i.trim()}),We({gameId:r,idCreationTimestamp:Me(new Date),isPlayerAdmin:!1}),e.props.onSetGameData({gameConfig:null,gameId:r,isRejoiningGame:!1,playerInfo:{id:t.id,isAdmin:!1,name:i.trim()}}),e.props.history.push("/play")},e.returnToDashboard=function(){e.props.history.push("/")},e}return Object(u.a)(a,[{key:"render",value:function(){var e=i.a.createElement("form",{onSubmit:this.handleSubmit,className:"app-form",noValidate:!0,autoComplete:"off"},i.a.createElement(pt.a,{name:"nameInput",label:"Spielername",value:this.state.nameInput,onChange:this.handleInputChange,className:"app-form-input",variant:"outlined",fullWidth:!0,required:!0,autoFocus:!0,error:this.state.validateInputs&&!this.state.nameInput}),i.a.createElement(pt.a,{name:"idInput",label:"Spiel-ID",value:this.state.idInput,onChange:this.handleInputChange,className:"app-form-input",variant:"outlined",fullWidth:!0,required:!0,error:this.state.validateInputs&&!this.state.idInput}),i.a.createElement("div",{className:"button-wrapper"},i.a.createElement(ue.a,{type:"submit",color:"primary",variant:"contained",size:"large",startIcon:i.a.createElement(ft.a,null)},"Beitreten")));return i.a.createElement("div",{className:"main-content-wrapper"},this.props.gameId?i.a.createElement(bt,{context:ye.joingame}):null,i.a.createElement("div",{className:"material-card-style"},i.a.createElement(X,{showDivider:!0,text:"Spiel beitreten"}),e),i.a.createElement(pe,{onReturnToDashboard:this.returnToDashboard}))}},{key:"componentDidMount",value:function(){var e=new URLSearchParams(this.props.location.search);e.has("id")&&this.setState({idInput:e.get("id")})}},{key:"componentDidUpdate",value:function(e){this.props.playerInfo&&this.props.playerInfo!==e.playerInfo&&this.setState({nameInput:this.props.playerInfo.name})}}]),a}(r.Component),vt=Object(h.b)((function(e){return{gameId:e.gameId,playerIdCreationTimestamp:e.playerIdCreationTimestamp,playerInfo:e.playerInfo}}),(function(e){return{onSetGameData:function(t){return e(Ae(t))}}}))(yt),Et=(a(164),a(232)),wt=a(221),St=a(222),kt=a(223),It=a(224),Ct=a(230),Ot=a(233),Nt=a(122),Pt=a.n(Nt),Rt=a(121),jt=a.n(Rt),At=a(33),Tt=a(235),xt=a(218),Ft=a(219),Dt=a(220),Mt=a(240),zt=a(217),Gt=a(238),Lt=Object(zt.a)((function(){return Object(Gt.a)({lessPadding:{padding:"0.375rem 0.5rem"},dialog:{minWidth:"20rem"}})})),Bt=function(e){var t=Lt(),a=e.onClose,n=e.open,l=Object(r.useState)(""),s=Object(At.a)(l,2),o=s[0],c=s[1],u=Object(r.useState)(!1),m=Object(At.a)(u,2),d=m[0],p=m[1],h=function(){a(null)};return i.a.createElement(Tt.a,{onClose:h,open:n},i.a.createElement("form",{onSubmit:function(e){e.preventDefault(),e.stopPropagation();var t=o.trim();""!==t?(c(""),p(!1),a(t)):(c(""),p(!0))},className:t.dialog,noValidate:!0,autoComplete:"off"},i.a.createElement(xt.a,null,i.a.createElement(Ft.a,null,"Kategorie hinzuf\xfcgen"),i.a.createElement(pt.a,{id:"new-category-input",autoFocus:!0,margin:"dense",fullWidth:!0,required:!0,value:o,error:d&&!o,onChange:function(e){return c(e.target.value)}})),i.a.createElement(Dt.a,null,i.a.createElement(ue.a,{type:"button",onClick:h},"Abbrechen"),i.a.createElement(ue.a,{type:"submit",color:"primary"},"Hinzuf\xfcgen"))))},Wt=function(e){var t=Lt(),a=Object(r.useState)(!1),n=Object(At.a)(a,2),l=n[0],s=n[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement(Mt.a,{title:"Kategorie hinzuf\xfcgen",placement:"right"},i.a.createElement(y.a,{className:t.lessPadding,"aria-label":"Kategorie hinzuf\xfcgen",onClick:function(){return s(!0)}},i.a.createElement(ne.a,null))),i.a.createElement(Bt,{open:l,onClose:function(t){return function(t){s(!1),t&&e.addCustomCategory(t)}(t)}}))},_t=a(239),Kt=a(120),Ut=a.n(Kt),Vt=a(119),Ht=a.n(Vt);!function(e){e.available="available",e.selected="selected"}(gt||(gt={}));var qt,Jt,Zt=Object(zt.a)((function(e){return Object(Gt.a)({root:{display:"flex",justifyContent:"center",flexWrap:"wrap",padding:e.spacing(.5)},chip:{margin:e.spacing(.5)},chipIcon:{backgroundColor:"inherit"}})})),Yt=function(e){var t=Zt();return i.a.createElement("div",{className:t.root},e.chipsArray.map((function(a,n){return i.a.createElement(_t.a,{key:"chip-to-".concat(e.chipType,"-").concat(n),color:"selected"===e.chipType?"primary":void 0,icon:"selected"===e.chipType?i.a.createElement(Ht.a,{className:"chip-icon-no-bg"}):i.a.createElement(Ut.a,null),label:a,className:t.chip,onClick:function(){return e.removeChip(a)}})})),e.children)};!function(e){e.available="available",e.selected="selected"}(qt||(qt={})),function(e){e.checkForDuplicates="checkForDuplicates",e.creativeAnswersExtraPoints="creativeAnswersExtraPoints",e.onlyPlayerWithValidAnswer="onlyPlayerWithValidAnswer"}(Jt||(Jt={}));var Xt,Qt=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={availableCategories:be,checkForDuplicates:!0,creativeAnswersExtraPoints:!1,isSnackbarOpen:!1,lettersToExclude:Object(we.a)(fe),nameInput:e.props.playerInfo?e.props.playerInfo.name:"",numberOfRoundsInput:3,onlyPlayerWithValidAnswer:!0,selectedCategories:ge,snackBarMessage:"",validateInputs:!1},e.handleNameInputChange=function(t){e.setState({nameInput:t.target.value})},e.handleNumberOfRoundsInputChange=function(t){var a=+t.target.value;a>=1&&a<=15&&e.setState({numberOfRoundsInput:a})},e.handleGameOptionChange=function(t){e.setState(Object(Te.a)({},e.state,Object(dt.a)({},t.target.name,t.target.checked)))},e.handleLetterToExcludeChange=function(t,a){var n=e.state.lettersToExclude,r=t.target.checked?[].concat(Object(we.a)(n),[a]):n.filter((function(e){return e!==a}));e.setState({lettersToExclude:r})},e.updateCategoryArrays=function(t,a){var n,r;a===qt.selected?(n=e.state.selectedCategories.filter((function(e){return e!==t})),(r=Object(we.a)(e.state.availableCategories)).push(t)):(r=e.state.availableCategories.filter((function(e){return e!==t})),(n=Object(we.a)(e.state.selectedCategories)).push(t)),e.setState({availableCategories:r,selectedCategories:n})},e.addCustomCategory=function(t){e.setState({availableCategories:[].concat(Object(we.a)(e.state.availableCategories),[t])})},e.handleSubmit=function(t){t.preventDefault(),e.isReadyToStartGame()?e.startNewGame():e.setState({nameInput:e.state.nameInput.trim(),validateInputs:!0})},e.isReadyToStartGame=function(){return e.state.selectedCategories.length<3?(e.showSnackBar("Du musst mindestens ".concat(3," Kategorien ausw\xe4hlen!")),!1):he.length-e.state.lettersToExclude.length<e.state.numberOfRoundsInput?(e.showSnackBar("Du hast zu viele Buchstaben ausgeschlossen!"),!1):!!e.state.nameInput.trim()},e.showSnackBar=function(t){return e.setState({isSnackbarOpen:!0,snackBarMessage:t})},e.handleSnackBarClose=function(){return e.setState({isSnackbarOpen:!1})},e.startNewGame=function(){var t=e.props.playerInfo,a=e.props.playerIdCreationTimestamp,n=e.state,r=n.nameInput,i=n.numberOfRoundsInput,l=n.selectedCategories,s=Object(b.a)();He(),Be({id:t.id,idCreationTimestamp:a,name:r.trim()}),We({gameId:s,idCreationTimestamp:Me(new Date),isPlayerAdmin:!0}),e.props.onSetGameData({gameConfig:{categories:l,letters:qe(i,Object(xe.xor)(he,e.state.lettersToExclude)),numberOfRounds:i,scoringOptions:{checkForDuplicates:e.state.checkForDuplicates,creativeAnswersExtraPoints:e.state.creativeAnswersExtraPoints,onlyPlayerWithValidAnswer:e.state.onlyPlayerWithValidAnswer}},gameId:s,isRejoiningGame:!1,playerInfo:{id:t.id,isAdmin:!0,name:r.trim()}}),e.props.history.push("/play")},e.returnToDashboard=function(){e.props.history.push("/")},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t="Anzahl Runden (".concat(1,"-").concat(15,")"),a=i.a.createElement("form",{onSubmit:this.handleSubmit,className:"app-form",noValidate:!0,autoComplete:"off"},i.a.createElement(pt.a,{name:"nameInput",label:"Spielername (max. 20 Zeichen)",value:this.state.nameInput,onChange:this.handleNameInputChange,className:"app-form-input",variant:"outlined",fullWidth:!0,required:!0,autoFocus:!0,error:this.state.validateInputs&&!this.state.nameInput,inputProps:{maxLength:"20"}}),i.a.createElement(pt.a,{name:"numberOfRoundsInput",label:t,type:"number",value:this.state.numberOfRoundsInput,onChange:this.handleNumberOfRoundsInputChange,variant:"outlined",fullWidth:!0,required:!0,inputProps:{min:1,max:15}}),i.a.createElement(Et.a,{className:"more-options-expansion-panel"},i.a.createElement(wt.a,{expandIcon:i.a.createElement(jt.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},"Weitere Optionen"),i.a.createElement(St.a,null,i.a.createElement(kt.a,{className:"game-options-list"},i.a.createElement(It.a,{control:i.a.createElement(Ct.a,{checked:this.state.checkForDuplicates,name:Jt.checkForDuplicates,color:"primary",onChange:this.handleGameOptionChange}),label:ve.checkForDuplicates}),i.a.createElement(It.a,{control:i.a.createElement(Ct.a,{checked:this.state.onlyPlayerWithValidAnswer,name:Jt.onlyPlayerWithValidAnswer,color:"primary",onChange:this.handleGameOptionChange}),label:ve.onlyPlayerWithValidAnswer}),i.a.createElement(It.a,{control:i.a.createElement(Ct.a,{checked:this.state.creativeAnswersExtraPoints,name:Jt.creativeAnswersExtraPoints,color:"primary",disabled:!0,onChange:this.handleGameOptionChange}),label:ve.creativeAnswersExtraPoints+" (Coming Soon!)"})),i.a.createElement(Y.a,null),i.a.createElement("p",{className:"category-array-label"},"Folgende Buchstaben ausschlie\xdfen:"),i.a.createElement(kt.a,{row:!0,className:"letters-to-exclude"},he.map((function(t,a){return i.a.createElement(It.a,{key:"slf-letters-to-exclude-".concat(a),control:i.a.createElement(Ct.a,{checked:e.state.lettersToExclude.includes(t),color:"primary",onChange:function(a){return e.handleLetterToExcludeChange(a,t)}}),label:t})}))))),i.a.createElement("p",{className:"category-array-label"},"Ausgew\xe4hlte Kategorien (mind. ",3,"):"),i.a.createElement(Yt,{chipsArray:this.state.selectedCategories,chipType:gt.selected,removeChip:function(t){return e.updateCategoryArrays(t,qt.selected)}}),i.a.createElement("p",{className:"category-array-label"},"Verf\xfcgbare Kategorien:"),i.a.createElement(Yt,{chipsArray:this.state.availableCategories,chipType:gt.available,removeChip:function(t){return e.updateCategoryArrays(t,qt.available)}},i.a.createElement(Wt,{addCustomCategory:this.addCustomCategory})),i.a.createElement("div",{className:"button-wrapper add-margin-top"},i.a.createElement(ue.a,{type:"submit",color:"primary",variant:"contained",size:"large",startIcon:i.a.createElement(Pt.a,null)},"Spiel erstellen")));return i.a.createElement("div",{className:"main-content-wrapper"},this.props.gameId?i.a.createElement(bt,{context:ye.newgame}):null,i.a.createElement("div",{className:"material-card-style"},i.a.createElement(X,{showDivider:!0,text:"Neues Spiel"}),a),i.a.createElement(pe,{onReturnToDashboard:this.returnToDashboard}),i.a.createElement(Ot.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:this.state.isSnackbarOpen,autoHideDuration:3e3,onClose:this.handleSnackBarClose,message:this.state.snackBarMessage}))}},{key:"componentDidUpdate",value:function(e){this.props.playerInfo&&this.props.playerInfo!==e.playerInfo&&this.setState({nameInput:this.props.playerInfo.name})}}]),a}(r.Component),$t=Object(h.b)((function(e){return{gameId:e.gameId,playerIdCreationTimestamp:e.playerIdCreationTimestamp,playerInfo:e.playerInfo}}),(function(e){return{onSetGameData:function(t){return e(Ae(t))}}}))(Qt),ea=a(123),ta=a.n(ea),aa=a(84),na=a(125),ra=a.n(na),ia=Object(zt.a)((function(e){return Object(Gt.a)({adminPanel:{position:"absolute",top:"1rem",right:"1rem"},menuButton:{background:"radial-gradient(circle, rgba(255,255,255,1) 0%, rgba(255,255,255,0.5) 35%, rgba(255,255,255,0) 60%);"},dialogContent:{maxWidth:"23rem"},dialogContentText:{color:"black"}})})),la=function(e){var t=ia(),a=e.onClose,n=e.open;return i.a.createElement(Tt.a,{onClose:function(){return a(!1)},open:n},i.a.createElement(xt.a,{classes:{root:t.dialogContent}},e.playerToBeKicked?i.a.createElement(Ft.a,{classes:{root:t.dialogContentText}},'"With great power comes great responsibility" \u2013 Willst du ',e.playerToBeKicked.name," wirklich aus dem Spiel werfen?"):null),i.a.createElement(Dt.a,null,i.a.createElement(ue.a,{type:"button",onClick:function(){return a(!1)}},"Abbrechen"),i.a.createElement(ue.a,{type:"button",color:"primary",onClick:function(){return a(!0)}},"Rauswerfen")))},sa=function(e){var t=ia(),a=Object(r.useState)(null),n=Object(At.a)(a,2),l=n[0],s=n[1],o=Object(r.useState)(!1),c=Object(At.a)(o,2),u=c[0],m=c[1],d=Object(r.useState)(null),p=Object(At.a)(d,2),h=p[0],f=p[1],g=new Map;e.allPlayers.forEach((function(e,t){e.isAdmin||g.set(t,e)}));var b=Je(g);return i.a.createElement("div",{className:t.adminPanel},i.a.createElement(y.a,{className:t.menuButton,title:"Admin-Panel \xf6ffnen","aria-label":"Admin-Panel \xf6ffnen","aria-controls":"admin-panel","aria-haspopup":"true",onClick:function(e){s(e.currentTarget)}},i.a.createElement(se.a,{color:"primary"})),i.a.createElement(v.a,{id:"admin-panel",anchorEl:l,keepMounted:!0,open:Boolean(l),onClose:function(){s(null)}},b.map((function(e,t){return i.a.createElement(E.a,{key:"menu-item-delete-player-".concat(t),title:"".concat(e.name," aus dem Spiel werfen"),onClick:function(){return t=e,s(null),f(t),void m(!0);var t}},i.a.createElement(Ie.a,null,i.a.createElement(ra.a,{color:"secondary"})),i.a.createElement(Ce.a,{primary:e.name}))}))),i.a.createElement(la,{open:u,playerToBeKicked:h,onClose:function(t){m(!1),t&&h&&e.kickPlayer(h.id)}}))},oa=(a(166),function(){function e(t,a){Object(c.a)(this,e),this.x=t,this.y=a,this.radius=3.5}return Object(u.a)(e,[{key:"draw",value:function(e){e.save(),e.translate(this.x,this.y),e.fillStyle="white",e.fillRect(0,0,this.radius,this.radius),e.restore()}}]),e}()),ca=function(){function e(t,a){var n=this;Object(c.a)(this,e),this.letters=t,this.callbackWhenAnimationDone=a,this.canvas=void 0,this.ctx=void 0,this.currentPos=void 0,this.width=void 0,this.height=void 0,this.particlePositions=void 0,this.particles=void 0,this.tmpCanvas=void 0,this.tmpCtx=void 0,this.time=void 0,this.counter=0,this.myInterval=void 0,this.activeTheme=void 0,this.animate=function(){requestAnimationFrame(n.animate),n.ctx.fillStyle=n.activeTheme.animationBackgroundColor,n.ctx.fillRect(0,0,n.width,n.height),n.animateParticles()},this.canvas=document.querySelector("#letter-animation-canvas"),this.ctx=this.canvas.getContext("2d");var r=document.querySelector("main");this.activeTheme=H.find((function(e){return r.classList.contains(e.className)})),this.width=r.offsetWidth,this.height=r.offsetHeight,this.particlePositions=[],this.particles=[],this.tmpCanvas=document.createElement("canvas"),this.tmpCtx=this.tmpCanvas.getContext("2d"),this.canvas.width=this.width,this.canvas.height=this.height,this.particlePositions=[],this.currentPos=0,this.time=""}return Object(u.a)(e,[{key:"init",value:function(){var e=this;this.myInterval=setInterval((function(){e.counter<e.letters.length&&(e.changeLetter(),e.getPixels(e.tmpCanvas,e.tmpCtx)),e.counter++,e.counter>e.letters.length+1&&(clearInterval(e.myInterval),e.callbackWhenAnimationDone())}),800),this.makeParticles(1e3),this.animate()}},{key:"changeLetter",value:function(){this.time=this.letters[this.currentPos],this.currentPos++,this.currentPos>=this.letters.length&&(this.currentPos=0)}},{key:"makeParticles",value:function(e){for(var t=0;t<=e;t++){var a=this.width/2+400*Math.random()-200,n=this.height/2+400*Math.random()-200;this.particles.push(new oa(a,n))}}},{key:"getPixels",value:function(e,t){var a=this.time;e.width=window.innerWidth,e.height=window.innerHeight,t.fillStyle="red",t.font="italic bold 330px Noto Serif",t.fillText(a,e.width/2-t.measureText(a).width/2,e.height/2+100);var n=t.getImageData(0,0,e.width,e.height),r=new Uint32Array(n.data.buffer);this.particlePositions.length>0&&(this.particlePositions=[]);for(var i=0;i<e.height;i+=6)for(var l=0;l<e.width;l+=6)r[i*e.width+l]&&this.particlePositions.push({x:l,y:i})}},{key:"animateParticles",value:function(){for(var e,t,a=0,n=this.particles.length;a<n;a++)e=this.particles[a],t=this.particlePositions[a],this.particles.indexOf(e)===this.particlePositions.indexOf(t)&&(e.x+=.3*(t.x-e.x),e.y+=.3*(t.y-e.y),e.draw(this.ctx))}}]),e}(),ua=function(e){var t=Object(we.a)(he).filter((function(t){return t!==e.letterToUnveil})),a=[].concat(Object(we.a)(qe(4,t)),[e.letterToUnveil]);return Object(r.useEffect)((function(){new ca(a,e.callbackWhenAnimationDone).init()})),i.a.createElement("canvas",{id:"letter-animation-canvas"})},ma=a(225),da=Object(zt.a)((function(e){return Object(Gt.a)({loadingScreen:{position:"absolute",top:"0",left:"0",height:"100%",width:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)"},loadingSpinner:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"60px"}})})),pa=function(){var e=da();return i.a.createElement("div",{className:e.loadingScreen},i.a.createElement("div",{className:e.loadingSpinner},i.a.createElement(ma.a,{color:"secondary",size:60})))},ha=(a(167),a(4)),fa=a(226),ga=a(227),ba=a(128),ya=a.n(ba),va=a(129),Ea=a.n(va),wa=a(127),Sa=a.n(wa),ka=a(126),Ia=a.n(ka),Ca=Object(zt.a)((function(e){return Object(Gt.a)({centerContent:{display:"flex",justifyContent:"center"},chip:{height:"3rem",marginTop:"1rem",borderRadius:"5px",fontSize:"1.2rem",boxShadow:"0 2px 4px rgba(0,0,0,.501961)"}})})),Oa=function(e){var t=Ca(),a=e.currentLetter,n=e.currentRound,r=e.numberOfRounds;return i.a.createElement("div",{className:t.centerContent},i.a.createElement(_t.a,{color:"primary",icon:i.a.createElement(Ia.a,null),label:"Runde ".concat(n," von ").concat(r,": \u201e").concat(a,"\u201c"),className:t.chip}))},Na=Object(ha.a)((function(e){return Object(Gt.a)({badge:{right:-3,top:"100%",border:"2px solid ".concat(e.palette.background.paper),padding:"0 4px"}})}))(fa.a),Pa=function(e){var t=Object(r.useState)(e.playersThatFinishedEvaluation.has(e.playerInfo.id)),a=Object(At.a)(t,2),n=a[0],l=a[1],s=e.allPlayers,o=e.currentRound,c=e.currentRoundEvaluation,u=e.gameConfig,m=e.playerInfo,d=e.playersThatFinishedEvaluation,p=e.gameRounds[o-1],h=u.letters[o-1],f=Je(s),g=[];f.forEach((function(e){d.has(e.id)||g.push(e.name)}));var b=function(t,a){var r=f[a],l=c.get(r.id)[t],o=l.get(m.id),u=function(e,t){var a=new Map;return e.forEach((function(e,n){if(!e){var r=t.get(n);r&&a.set(n,r)}})),Je(a)}(l,s),d=0===u.length?"Keine Ablehnungen":"Abgelehnt von "+u.map((function(e){return e.name})).join(", "),h=!!p.get(r.id)[t].text,g=i.a.createElement(Mt.a,{key:"slf-evaluation-tooltip-".concat(t,"-").concat(a),title:d},i.a.createElement(y.a,{className:"slf-evaluation-button",color:o?"default":"secondary",onClick:function(){return function(t,a,r){n||e.updateEvaluationOfPlayerInput({categoryIndex:t,evaluatedPlayerId:a,markedAsValid:!r})}(t,r.id,o)}},i.a.createElement(Na,{badgeContent:u.length,color:"secondary"},i.a.createElement(ce.a,null)))),b=i.a.createElement(Mt.a,{key:"slf-evaluation-tooltip-".concat(t,"-").concat(a),title:"Automatisch abgelehnt"},i.a.createElement(ce.a,{color:"secondary",className:"slf-auto-reject-icon"}));return i.a.createElement("div",{key:"slf-evaluation-button-wrapper-".concat(t,"-").concat(a),className:"slf-evaluation-button-wrapper"},h?g:b)},v=function(e,t){var a=u.categories[e],n=f[t],r=p.get(n.id)[e].text,l="https://www.ecosia.org/search?q=".concat(encodeURIComponent(a),"+").concat(encodeURIComponent(r));return i.a.createElement("a",{className:"slf-evaluation-search-link",href:l,target:"_blank",rel:"noopener noreferrer","aria-label":"Begriff nachschlagen"},i.a.createElement(Mt.a,{title:"Begriff nachschlagen",placement:"bottom"},i.a.createElement(Sa.a,{color:"primary"})))};return i.a.createElement(i.a.Fragment,null,i.a.createElement(Oa,{currentLetter:h,currentRound:o,numberOfRounds:u.numberOfRounds}),i.a.createElement("form",{className:"app-form",noValidate:!0,autoComplete:"off"},u.categories.map((function(e,t){return i.a.createElement("div",{key:"slf-evaluation-for-category-no-"+t,className:"material-card-style"},i.a.createElement(X,{showDivider:!1,text:e}),f.map((function(e,a){return function(e,t){var a=f[t],n=p.get(a.id)[e],r=!!n.text,l=n.valid;return i.a.createElement("div",{key:"slf-evaluation-textfield-wrapper-".concat(e,"-").concat(t),className:"slf-evaluation-textfield-wrapper"},i.a.createElement(pt.a,{key:"slf-textfield-category-no-"+e+"-player-"+t,value:n.text,variant:"outlined",fullWidth:!0,InputProps:{className:l?"":"invalid-player-input",startAdornment:i.a.createElement(ga.a,{position:"start"},a.name,":"),endAdornment:i.a.createElement(ga.a,{position:"end"},i.a.createElement("div",{className:"slf-evaluation-textfield-end-adornment"},r?v(e,t):null,l?i.a.createElement(_t.a,{label:"+".concat(n.points),color:"primary"}):null))}}),b(e,t))}(t,a)})))})),i.a.createElement("div",{className:"material-card-style"},"Best\xe4tigung ausstehend: ",i.a.createElement("span",{className:"bold-text"},g.join(", "))),i.a.createElement(y.a,{type:"button",className:"fixed-bottom-right-button",color:"secondary",title:"Best\xe4tigen","aria-label":"Best\xe4tigen",onClick:function(){n||(l(!0),e.sendEvaluationFinishedMessage())}},n?i.a.createElement(ya.a,null):i.a.createElement(Ea.a,null))))},Ra=a(130),ja=a.n(Ra),Aa=function(e){var t=e.currentRound,a=e.gameConfig,n=e.gameRoundInputs,r=a.letters[t-1];return i.a.createElement(i.a.Fragment,null,i.a.createElement(Oa,{currentLetter:r,currentRound:t,numberOfRounds:a.numberOfRounds}),i.a.createElement("form",{className:"app-form",noValidate:!0,autoComplete:"off"},a.categories.map((function(t,a){return i.a.createElement("div",{key:"slf-input-for-category-no-"+a,className:"material-card-style"},i.a.createElement(X,{showDivider:!1,text:t}),i.a.createElement(pt.a,{value:n[a].text,onChange:function(t){return function(t,a){var r=Object(we.a)(n);r[a]=Object(Te.a)({},r[a],{text:t.target.value}),e.updateCurrentRoundInputs(r)}(t,a)},variant:"outlined",fullWidth:!0,InputProps:{startAdornment:i.a.createElement(ga.a,{position:"start"},r,":")}}))})),i.a.createElement(y.a,{type:"button",className:"fixed-bottom-right-button",color:"secondary",title:"Abschicken","aria-label":"Abschicken",onClick:function(){return e.sendRoundFinishedMessage()}},i.a.createElement(ja.a,null))))},Ta=(a(168),a(131)),xa=a.n(Ta);!function(e){e.startGame="startGame",e.roundFinished="roundFinished",e.currentRoundInputs="currentRoundInputs",e.evaluationOfPlayerInput="evaluationOfPlayerInput",e.evaluationFinished="evaluationFinished",e.kickPlayer="kickPlayer",e.requestGameData="requestGameData",e.dataForCurrentGame="dataForCurrentGame"}(Xt||(Xt={}));var Fa=function(){function e(t){Object(c.a)(this,e),this.payload=t}return Object(u.a)(e,[{key:"toPubNubMessage",value:function(){return{type:Xt.currentRoundInputs,payload:this.payload}}}]),e}(),Da=function(){function e(t){Object(c.a)(this,e),this.payload=t}return Object(u.a)(e,[{key:"toPubNubMessage",value:function(){return{type:Xt.evaluationOfPlayerInput,payload:this.payload}}}]),e}(),Ma=function(){function e(t){Object(c.a)(this,e),this.payload=t}return Object(u.a)(e,[{key:"toPubNubMessage",value:function(){return{type:Xt.kickPlayer,payload:this.payload}}}]),e}(),za=function(){function e(t){Object(c.a)(this,e),this.payload=t}return Object(u.a)(e,[{key:"toPubNubMessage",value:function(){return{type:Xt.dataForCurrentGame,payload:this.payload}}}]),e}(),Ga=(a(169),a(236)),La=function(e){var t=Object(r.useState)(!1),a=Object(At.a)(t,2),n=a[0],l=a[1],s=window.location.href,o=s.slice(0,s.length-5)+"/joingame?id="+e.gameId;return i.a.createElement(i.a.Fragment,null,i.a.createElement("p",{className:"join-game-link-label"},"Teile diesen Link mit Freunden:"),i.a.createElement(Ga.a,{name:"idInput",value:o,className:"app-form-input",disabled:!0,fullWidth:!0,endAdornment:i.a.createElement(ga.a,{position:"end"},i.a.createElement(y.a,{title:"Link kopieren","aria-label":"Link kopieren",onClick:function(){!function(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}(o),l(!0)}},i.a.createElement(ie.a,null)))}),i.a.createElement(Ot.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:n,autoHideDuration:1500,onClose:function(){l(!1)},message:"Der Link wurde in Zwischenablage kopiert."}))},Ba=Object(zt.a)((function(e){return Object(Gt.a)({root:{display:"flex",flexWrap:"wrap",padding:e.spacing(.5)},chip:{margin:e.spacing(.5)}})})),Wa=function(e){var t=Ba(),a=Je(e.players);return i.a.createElement("div",{className:t.root},a.map((function(e,a){return i.a.createElement(_t.a,{key:"player-name-".concat(a),icon:i.a.createElement(Ne.a,null),color:e.isAdmin?"secondary":"primary",label:e.isAdmin?"".concat(e.name," (Admin)"):e.name,className:t.chip})})))},_a=function(e){var t=e.allPlayers,a=e.gameId,n=e.playerInfo,r=e.gameConfig,l=i.a.createElement("p",{className:"wait-for-start-animation"},"Warte auf Spielbeginn ",i.a.createElement("span",null,"."),i.a.createElement("span",null,"."),i.a.createElement("span",null,"."));return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"material-card-style"},i.a.createElement(X,{showDivider:!0,text:"Gleich geht's los..."}),i.a.createElement("div",{className:"players-wrapper"},i.a.createElement("h3",null,"Mitspieler (",e.allPlayers.size,"):"),i.a.createElement(Wa,{players:e.allPlayers})),e.gameConfig?i.a.createElement(i.a.Fragment,null,i.a.createElement(Y.a,null),i.a.createElement("h3",null,"Spiel-\xdcbersicht:"),i.a.createElement("p",null,"ID: ",e.gameId),i.a.createElement("p",null,"Runden: ",r.numberOfRounds),i.a.createElement("p",null,"Kategorien: ",r.categories.join(", ")),i.a.createElement(je,{rules:r.scoringOptions})):null,i.a.createElement(Y.a,null),n.isAdmin?i.a.createElement("div",{className:"button-wrapper add-margin-top"},i.a.createElement(ue.a,{color:"primary",variant:"contained",size:"large",startIcon:i.a.createElement(xa.a,null),disabled:t.size<2,onClick:function(){return e.sendMessage({type:Xt.startGame})}},"Starten")):l),n.isAdmin?i.a.createElement("div",{className:"material-card-style"},i.a.createElement(La,{gameId:a})):null)},Ka=i.a.memo((function(e){var t=Object(aa.b)(),a=function(){var a;a=e.playerInfo.isAdmin?{gameConfig:e.gameConfig,playerInfo:e.playerInfo}:{playerInfo:e.playerInfo},t.setState({channels:[e.gameChannel],state:a})},n=function(){t.hereNow({channels:[e.gameChannel],includeUUIDs:!0,includeState:!0},(function(t,a){if(console.log("PubNub hereNow",a),e.isRejoiningGame&&a.totalOccupancy<=1)e.navigateToDashboard();else{var n=a.channels[e.gameChannel];if(n){var r=[];n.occupants.forEach((function(e){var t=e.state;t&&t.playerInfo&&r.push(t)})),e.addPlayers.apply(e,r)}}}))};return Object(r.useEffect)((function(){var r={message:function(t){console.log("PubNub message event",t),t.message.type&&e.processPubNubMessage(t)},presence:function(t){if(console.log("PubNub presence event",t),"state-change"===t.action){var a=t.state;a.playerInfo.id!==e.playerInfo.id&&e.addPlayers(a)}},status:function(r){console.log("PubNub status event",r),"PNConnectedCategory"===r.category&&(console.log("Player is connected to PubNub game channel"),t.history({channel:e.gameChannel,count:10},(function(t,r){!e.isRejoiningGame&&r.messages.length>0?e.navigateToDashboard():e.isRejoiningGame||(a(),n(),setTimeout(n,3e3))})))}};return t.addListener(r),t.subscribe({channels:[e.gameChannel],withPresence:!0}),function(){t.removeListener(r),t.unsubscribeAll()}})),null})),Ua=a(170),Va={publishKey:Ua.publishKey,subscribeKey:Ua.subscribeKey,uuid:void 0,ssl:!0},Ha=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={allPlayers:new Map,currentPhase:V.waitingToStart,currentRound:1,currentRoundEvaluation:new Map,currentRoundInputs:[],gameConfig:null,gameRounds:[],playersThatFinishedEvaluation:new Map,showLetterAnimation:!1,showLoadingScreen:!0},e.pubNubClient=void 0,e.sendMessage=function(t){e.pubNubClient.publish({channel:e.props.gameId,message:t,storeInHistory:!0,ttl:1},(function(e,t){return console.log("PubNub Publish:",e,t)}))},e.callbackWhenAnimationDone=function(){e.setState({showLetterAnimation:!1})},e.navigateToDashboard=function(){He(),e.props.onResetAppState(),e.props.history.push("/")},e.addPlayers=function(){if(e.state.currentPhase===V.waitingToStart){for(var t=null,a=Object(xe.cloneDeep)(e.state.allPlayers),n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];r.forEach((function(n){a.set(n.playerInfo.id,n.playerInfo),n.gameConfig&&!e.state.gameConfig&&(t=n.gameConfig)})),t?(Ke(t),e.setState({allPlayers:a,gameConfig:t,showLoadingScreen:!1})):e.setState({allPlayers:a})}},e.processPubNubMessage=function(t){var a=t.message;switch(a.type){case Xt.startGame:e.startGame();break;case Xt.roundFinished:e.stopRoundAndSendInputs();break;case Xt.currentRoundInputs:e.addPlayerInputForFinishedRound(t.publisher,a.payload);break;case Xt.evaluationOfPlayerInput:e.processEvaluationOfPlayerInput(t.publisher,a.payload);break;case Xt.evaluationFinished:e.countPlayerAsEvaluationFinished(t.publisher);break;case Xt.kickPlayer:e.removePlayerFromGame(a.payload);break;case Xt.requestGameData:it(e.props.playerInfo,e.state.allPlayers,t.publisher)&&(e.state.allPlayers.has(t.publisher)?e.sendDataForCurrentGame(t.publisher):e.sendKickPlayerMessage(t.publisher));break;case Xt.dataForCurrentGame:e.processDataForCurrentGame(a.payload)}},e.startGame=function(){var t=e.state.gameConfig,a=Xe(e.state.allPlayers,t.categories);e.setState({currentPhase:V.fillOutTextfields,currentRoundEvaluation:a,currentRoundInputs:Ze(t.categories.length),showLetterAnimation:!0})},e.updateCurrentRoundInputs=function(t){e.setState({currentRoundInputs:t})},e.sendRoundFinishedMessage=function(){e.setState({showLoadingScreen:!0}),e.sendMessage({type:Xt.roundFinished})},e.stopRoundAndSendInputs=function(){var t=[].concat(Object(we.a)(e.state.gameRounds),[new Map]);e.setState({gameRounds:t,showLoadingScreen:!0});var a=new Fa(Ye(e.state.currentRoundInputs));e.sendMessage(a.toPubNubMessage())},e.addPlayerInputForFinishedRound=function(t,a){var n=Object(xe.cloneDeep)(e.state.gameRounds),r=e.state.currentRound-1;n[r].set(t,a),n[r].size===e.state.allPlayers.size?(Qe(e.state.gameConfig.scoringOptions,n[r]),Ve(e.state.currentRound,n[r]),e.setState({currentPhase:V.evaluateRound,gameRounds:n,showLoadingScreen:!1})):e.setState({gameRounds:n})},e.updateEvaluationOfPlayerInput=function(t){var a=new Da(t);e.sendMessage(a.toPubNubMessage())},e.processEvaluationOfPlayerInput=function(t,a){if(e.state.allPlayers.has(t)){var n=a.categoryIndex,r=a.evaluatedPlayerId,i=a.markedAsValid,l=Object(xe.cloneDeep)(e.state.currentRoundEvaluation),s=l.get(r);s[n].set(t,i);var o=Object(xe.cloneDeep)(e.state.gameRounds),c=nt(s[n])<at(e.state.allPlayers.size),u=o[e.state.currentRound-1];u.get(r)[n].valid=c,$e(e.state.gameConfig.scoringOptions,u,n),e.setState({currentRoundEvaluation:l,gameRounds:o})}},e.sendEvaluationFinishedMessage=function(){return e.sendMessage({type:Xt.evaluationFinished})},e.countPlayerAsEvaluationFinished=function(t){var a=Object(xe.cloneDeep)(e.state.playersThatFinishedEvaluation);a.set(t,!0),a.size===e.state.allPlayers.size?e.processEvaluationsAndStartNextRoundOrFinishGame():e.setState({playersThatFinishedEvaluation:a})},e.processEvaluationsAndStartNextRoundOrFinishGame=function(){var t=e.state,a=t.allPlayers,n=t.currentRound,r=t.gameRounds,i=e.state.gameConfig;n===i.numberOfRounds?(He(),e.props.onSetDataOfFinishedGame({allPlayers:a,gameConfig:i,gameRounds:r}),e.props.history.push("/results")):(Ve(e.state.currentRound,r[n-1]),e.setState({currentPhase:V.fillOutTextfields,currentRoundEvaluation:Xe(a,i.categories),currentRoundInputs:Ze(i.categories.length),currentRound:n+1,gameRounds:r,playersThatFinishedEvaluation:new Map,showLetterAnimation:!0}))},e.sendKickPlayerMessage=function(t){var a=new Ma(t);e.sendMessage(a.toPubNubMessage())},e.removePlayerFromGame=function(t){if(e.props.playerInfo.id===t)return He(),e.props.onResetAppState(),void e.props.history.push("/");if(e.state.allPlayers.has(t)){var a=Object(xe.cloneDeep)(e.state.allPlayers);a.delete(t);var n=Object(xe.cloneDeep)(e.state.currentRoundEvaluation);n.delete(t);var r=Object(xe.cloneDeep)(e.state.gameRounds);r.forEach((function(e){return e.delete(t)}));var i=Object(xe.cloneDeep)(e.state.playersThatFinishedEvaluation);i.delete(t),e.setState({allPlayers:a,currentRoundEvaluation:n,gameRounds:r,playersThatFinishedEvaluation:i}),e.state.currentPhase===V.evaluateRound&&i.size===a.size&&e.processEvaluationsAndStartNextRoundOrFinishGame()}},e.sendDataForCurrentGame=function(t){var a=Je(e.state.allPlayers),n=e.state.currentPhase===V.evaluateRound?lt(e.state.currentRoundEvaluation,a):[],r=new za({compressedGameRoundEvaluation:n,currentPhase:e.state.currentPhase,currentRound:e.state.currentRound,playersThatFinishedEvaluation:Ge(e.state.playersThatFinishedEvaluation),requestingPlayerId:t,sortedPlayers:a});e.sendMessage(r.toPubNubMessage())},e.processDataForCurrentGame=function(t){if(e.props.playerInfo.id===t.requestingPlayerId){var a=_e(),n=t.currentPhase===V.evaluateRound?t.currentRound:t.currentRound-1,r=ot(n);if(a&&r.length===n){var i,l=new Map;t.sortedPlayers.forEach((function(e){return l.set(e.id,e)})),t.currentPhase===V.evaluateRound?(i=st(t.compressedGameRoundEvaluation,t.sortedPlayers),ct(a.scoringOptions,i,at(l.size),r[t.currentRound-1])):i=Xe(l,a.categories),e.setState({allPlayers:l,currentPhase:t.currentPhase,currentRound:t.currentRound,currentRoundEvaluation:i,currentRoundInputs:Ze(a.categories.length),gameConfig:a,gameRounds:r,playersThatFinishedEvaluation:ze(t.playersThatFinishedEvaluation),showLoadingScreen:!1})}else console.log("Error: Can't restore game session because data is missing in local storage!"),e.navigateToDashboard()}},e}return Object(u.a)(a,[{key:"render",value:function(){if(null===this.props.gameId||null===this.props.playerInfo)return null;var e=this.props,t=e.gameId,a=e.playerInfo,n=this.state,r=n.showLetterAnimation,l=n.showLoadingScreen;this.pubNubClient||(this.pubNubClient=new ta.a(Object(Te.a)({},Va,{uuid:a.id})));var s=null;switch(this.state.currentPhase){case V.waitingToStart:s=i.a.createElement(_a,{allPlayers:this.state.allPlayers,gameConfig:this.state.gameConfig,gameId:t,playerInfo:a,sendMessage:this.sendMessage});break;case V.fillOutTextfields:s=i.a.createElement(Aa,{currentRound:this.state.currentRound,gameConfig:this.state.gameConfig,gameRoundInputs:this.state.currentRoundInputs,updateCurrentRoundInputs:this.updateCurrentRoundInputs,sendRoundFinishedMessage:this.sendRoundFinishedMessage});break;case V.evaluateRound:s=i.a.createElement(Pa,{allPlayers:this.state.allPlayers,currentRound:this.state.currentRound,currentRoundEvaluation:this.state.currentRoundEvaluation,gameConfig:this.state.gameConfig,gameRounds:this.state.gameRounds,playerInfo:a,playersThatFinishedEvaluation:this.state.playersThatFinishedEvaluation,updateEvaluationOfPlayerInput:this.updateEvaluationOfPlayerInput,sendEvaluationFinishedMessage:this.sendEvaluationFinishedMessage})}var o=i.a.createElement(ua,{letterToUnveil:this.state.gameConfig?this.state.gameConfig.letters[this.state.currentRound-1]:"",callbackWhenAnimationDone:this.callbackWhenAnimationDone}),c=i.a.createElement(sa,{allPlayers:this.state.allPlayers,kickPlayer:this.sendKickPlayerMessage});return i.a.createElement(aa.a,{client:this.pubNubClient},i.a.createElement(Ka,{gameChannel:this.props.gameId,gameConfig:this.props.gameConfig,isRejoiningGame:this.props.isRejoiningGame,playerInfo:this.props.playerInfo,navigateToDashboard:this.navigateToDashboard,addPlayers:this.addPlayers,processPubNubMessage:this.processPubNubMessage}),r?o:null,l?i.a.createElement(pa,null):null,l||r?null:i.a.createElement("div",{className:"main-content-wrapper"},s),a.isAdmin&&this.state.allPlayers.size>1?c:null)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.gameConfig,a=e.gameId,n=e.isRejoiningGame,r=e.playerInfo;if(null!==a&&null!==r)if(n)this.sendMessage({type:Xt.requestGameData});else{var i=new Map;i.set(r.id,r),r.isAdmin?(Ke(t),this.setState({allPlayers:i,gameConfig:t,showLoadingScreen:!1})):this.setState({allPlayers:i})}else this.props.history.push("/")}}]),a}(r.Component),qa=Object(h.b)((function(e){return{gameConfig:e.gameConfig,gameId:e.gameId,isRejoiningGame:e.isRejoiningGame,playerInfo:e.playerInfo}}),(function(e){return{onSetDataOfFinishedGame:function(t){return e(function(e){return{type:"SET_DATA_OF_FINISHED_GAME",payload:e}}(t))},onResetAppState:function(){return e({type:"RESET_APP_STATE"})}}}))(Ha),Ja=a(171),Za=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={activeTheme:H[0]},e.switchThemeHandler=function(t){e.setState({activeTheme:t}),Le(t.id)},e}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement(p.a,{theme:this.state.activeTheme.muiTheme},i.a.createElement("div",{className:"app-container"},i.a.createElement(f.a,{basename:"/stadt-land-fluss"},i.a.createElement(J,{theme:this.state.activeTheme,switchTheme:this.switchThemeHandler}),i.a.createElement("main",{className:"app-main "+this.state.activeTheme.className,style:this.state.activeTheme.style},i.a.createElement(g.c,null,i.a.createElement(g.a,{path:"/manual",exact:!0,component:Ee}),i.a.createElement(g.a,{path:"/newgame",exact:!0,component:$t}),i.a.createElement(g.a,{path:"/joingame",exact:!0,component:vt}),i.a.createElement(g.a,{path:"/play",exact:!0,component:qa}),i.a.createElement(g.a,{path:"/results",exact:!0,component:mt}),i.a.createElement(g.a,{path:"/",component:te}))))))}},{key:"componentDidMount",value:function(){Ja.disable();var e=localStorage.getItem("SLF-APP-THEME");if(e){var t=H.find((function(t){return t.id===e}));t&&this.setState({activeTheme:t})}var a=function(){var e=localStorage.getItem("SLF-PLAYER-INFO");return e?JSON.parse(e):null}(),n=Me(new Date);(!a||n-a.idCreationTimestamp>604800)&&(a={id:Object(b.a)(),idCreationTimestamp:n,name:a?a.name:""},Be(a)),this.props.onSetStoredPlayerInfo(a);var r=function(){var e=localStorage.getItem("SLF-RUNNING-GAME-INFO");return e?JSON.parse(e):null}();r&&(n-r.idCreationTimestamp<=3600?this.props.onSetStoredRunningGameInfo(r):He())}}]),a}(r.Component),Ya=Object(h.b)(null,(function(e){return{onSetStoredPlayerInfo:function(t){return e(function(e){return{type:"SET_STORED_PLAYER_INFO",payload:e}}(t))},onSetStoredRunningGameInfo:function(t){return e(function(e){return{type:"SET_STORED_RUNNING_GAME_INFO",payload:e}}(t))}}}))(Za);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Xa={allPlayers:null,gameId:null,gameConfig:null,gameRounds:null,isRejoiningGame:!1,playerIdCreationTimestamp:0,playerInfo:null},Qa=Object(o.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_STORED_PLAYER_INFO":var a=t.payload;return Object(Te.a)({},e,{isRejoiningGame:!1,playerIdCreationTimestamp:a.idCreationTimestamp,playerInfo:{id:a.id,isAdmin:!1,name:a.name}});case"SET_STORED_RUNNING_GAME_INFO":var n=t.payload;return Object(Te.a)({},e,{isRejoiningGame:!0,gameId:n.gameId,playerInfo:Object(Te.a)({},e.playerInfo,{isAdmin:n.isPlayerAdmin})});case"SET_DATA_FOR_NEW_GAME":return Object(Te.a)({},e,{},t.payload);case"SET_DATA_OF_FINISHED_GAME":return Object(Te.a)({},e,{},t.payload,{gameId:null});case"RESET_APP_STATE":return Object(Te.a)({},e,{allPlayers:null,gameId:null,gameConfig:null,gameRounds:null});default:return e}}));s.a.render(i.a.createElement(h.a,{store:Qa},i.a.createElement(Ya,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[143,1,2]]]);
//# sourceMappingURL=main.4078be24.chunk.js.map