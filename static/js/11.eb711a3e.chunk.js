(this["webpackJsonpstadt-land-fluss"]=this["webpackJsonpstadt-land-fluss"]||[]).push([[11],{181:function(e,t,n){"use strict";var r=n(2),a=n(168),c=n(79),s=n.n(c),o=(n(0),n(182)),i=n.n(o);t.a=function(e){return Object(r.jsx)("div",{className:i.a.button_wrapper,children:Object(r.jsx)(a.a,{type:"button",color:"default",variant:"contained",size:"large",startIcon:Object(r.jsx)(s.a,{}),onClick:e.onReturnToDashboard,children:"Dashboard"})})}},182:function(e,t,n){e.exports={button_wrapper:"ToDashboardButton_button_wrapper__1EtAB"}},184:function(e,t,n){"use strict";n.d(t,"l",(function(){return u})),n.d(t,"k",(function(){return d})),n.d(t,"j",(function(){return j})),n.d(t,"g",(function(){return f})),n.d(t,"n",(function(){return b})),n.d(t,"e",(function(){return h})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"h",(function(){return g})),n.d(t,"i",(function(){return v})),n.d(t,"m",(function(){return y})),n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return w})),n.d(t,"f",(function(){return C}));var r=n(12),a=n(185),c=n(188),s=n(207),o=n.n(s),i=n(77),l=n(32),u=function(e,t){if(e>t.length)throw new Error("Cannot create more randomn unique letters than the number of possibleLetters provided!");for(var n=[],r=Object(a.a)(t),c=function(e){var t=o()(r);n.push(t),r=r.filter((function(e){return e!==t}))},s=0;s<e;s++)c();return n},d=function(e,t,n){for(var r=Object(a.a)(n),c=e-n.length,s=t.filter((function(e){return!n.includes(e)})),i=function(e){var t=o()(s);r.push(t),s=s.filter((function(e){return e!==t}))},l=0;l<c;l++)i();return r},j=function(e){return Array.from(e).map((function(e){return e[1]})).sort((function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?-1:e.name.toLowerCase()>t.name.toLowerCase()?1:0}))},f=function(e){return Object(l.e)(e,{points:i.s,stars:0,text:"",valid:!0})},b=function(e){return e.map((function(e){var t=e.text.trim();return Object(r.a)(Object(r.a)({},e),{},{text:t,valid:""!==t})}))},h=function(e,t){var n=new Map;return e.forEach((function(r){var a=[];t.forEach((function(){var t=new Map;e.forEach((function(e){t.set(e.id,!0)})),a.push(t)})),n.set(r.id,a)})),n},p=function(e,t,n){if(e.checkForDuplicates||e.onlyPlayerWithValidAnswer)for(var r=t.keys().next().value,a=t.get(r),c=0;c<a.length;c++)m(e,t,c,n.get(c))},m=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];(e.checkForDuplicates||e.onlyPlayerWithValidAnswer)&&Array.from(t.keys()).forEach((function(a){var c=t.get(a);if(c[n].valid)if(e.onlyPlayerWithValidAnswer&&O(a,t,n))c[n].points=i.n;else{var s=e.checkForDuplicates&&x(a,t,n,r);c[n].points=s?i.o:i.s}}))},O=function(e,t,n){var r=Array.from(t.keys()).filter((function(t){return t!==e})),a=!0;return r.forEach((function(e){return a=a&&!t.get(e)[n].valid})),a},x=function(e,t,n,r){var a=Object(l.f)(t.get(e)[n].text),s=Array.from(t.keys()).filter((function(t){return t!==e}));return r.includes(a)||Object(c.some)(s,(function(e){var r=t.get(e)[n];return r.valid&&a===Object(l.f)(r.text)}))},g=function(e){return e<=3?1:2},v=function(e){var t=0;return e.forEach((function(e){return t=e?t:t+1})),t},y=function(e,t){var n=new Map;return e.forEach((function(e,r){if(!e){var a=t.get(r);a&&n.set(r,a)}})),j(n)},_=function(e,t){t.forEach((function(t){t.forEach((function(t){t.valid?e.creativeAnswersExtraPoints&&t.stars>0&&(t.points+=i.d*t.stars):t.points=0}))}))},w=function(e,t){var n={};e.forEach((function(e,t){return n[t]={name:e.name,points:0}})),t.forEach((function(e){e.forEach((function(e,t){return n[t].points+=e.reduce((function(e,t){return e+t.points}),0)}))}));var r=[],s=new Map;Object.keys(n).forEach((function(e){var t=n[e],c=t.name,o=t.points;r.push(o);var i=s.get(o)||[];s.set(o,[].concat(Object(a.a)(i),[c]))}));var o=[];return Object(c.uniq)(r).sort((function(e,t){return t-e})).forEach((function(e){return o.push({playerNames:s.get(e).sort(),points:e})})),o},C=function(e,t,n){var r=[];return n.forEach((function(n){n.forEach((function(n,a){var c=e.get(a);n.forEach((function(e,n){e.valid&&e.stars>0&&r.push({category:t.categories[n],playerName:c.name,text:e.text})}))}))})),r}},209:function(e,t,n){"use strict";var r=n(2),a=n(0),c=n.n(a),s=n(77),o=n(210),i=n.n(o);t.a=function(e){var t=e.rules;return t.checkForDuplicates||t.onlyPlayerWithValidAnswer||t.creativeAnswersExtraPoints?Object(r.jsxs)(c.a.Fragment,{children:[e.isForGameResultsPage?Object(r.jsx)("h3",{className:i.a.heading,children:"Regeln f\xfcr die Punktevergabe"}):null,e.isForGameResultsPage?null:Object(r.jsx)("h4",{className:i.a.heading,children:"Regeln f\xfcr die Punktevergabe"}),Object(r.jsxs)("ul",{className:i.a.list,children:[t.checkForDuplicates?Object(r.jsx)("li",{children:s.e.checkForDuplicates}):null,t.onlyPlayerWithValidAnswer?Object(r.jsx)("li",{children:s.e.onlyPlayerWithValidAnswer}):null,t.creativeAnswersExtraPoints?Object(r.jsx)("li",{children:s.e.creativeAnswersExtraPoints}):null]})]}):null}},210:function(e,t,n){e.exports={heading:"ScoringOptionsList_heading__24MfE",list:"ScoringOptionsList_list__2_T80"}},272:function(e,t,n){},273:function(e,t,n){e.exports={game_results_item:"GameResultsList_game_results_item__1ajwl",icon:"GameResultsList_icon__6EkiK",first_place_trophy:"GameResultsList_first_place_trophy__2n6pP",second_place_trophy:"GameResultsList_second_place_trophy__-hoQi",third_place_trophy:"GameResultsList_third_place_trophy__wUNsy",first_place_text:"GameResultsList_first_place_text__QYpPI",other_place_text:"GameResultsList_other_place_text__2x_QO"}},275:function(e,t,n){e.exports={button_wrapper:"GameResults_button_wrapper__3kHLB"}},325:function(e,t,n){"use strict";n.r(t);var r=n(39),a=n(40),c=n(42),s=n(41),o=n(2),i=n(132),l=n(0),u=n.n(l),d=n(27),j=n(187),f=(n(272),function(e){var t=Object(l.useState)(!0),n=Object(j.a)(t,2),r=n[0],a=n[1],c=Object(l.useState)(!1),s=Object(j.a)(c,2),i=s[0],u=s[1];return Object(l.useEffect)((function(){var t=[setTimeout((function(){return u(!0)}),e.duration>1e3?e.duration-1e3:0),setTimeout((function(){return a(!1)}),e.duration)];return function(){return t.forEach((function(e){return clearTimeout(e)}))}}),[]),r?Object(o.jsxs)("div",{className:"slf-fireworks-container"+(i?" fade-out":""),children:[Object(o.jsx)("div",{className:"slf-fireworks-before"}),Object(o.jsx)("div",{className:"slf-fireworks-after"})]}):null}),b=u.a.memo(f),h=n(173),p=n(134),m=n(311),O=n(312),x=n(208),g=n.n(x),v=n(32),y=n(273),_=n.n(y),w=function(e){var t=function(e){var t="/stadt-land-fluss/assets";switch(e){case 1:return Object(o.jsx)("img",{src:"".concat(t,"/first_place_trophy.svg"),className:_.a.first_place_trophy,alt:"1. Platz"});case 2:return Object(o.jsx)("img",{src:"".concat(t,"/second_place_trophy.svg"),className:_.a.second_place_trophy,alt:"2. Platz"});case 3:return Object(o.jsx)("img",{src:"".concat(t,"/third_place_trophy.svg"),className:_.a.third_place_trophy,alt:"3. Platz"});default:return Object(o.jsx)(g.a,{fontSize:"large"})}};return Object(o.jsx)(h.a,{component:"ol",children:e.gameResults.map((function(e,n){return Object(o.jsxs)(p.a,{className:_.a.game_results_item,children:[Object(o.jsx)(m.a,{className:_.a.icon,children:t(n+1)}),Object(o.jsx)(O.a,{className:0===n?_.a.first_place_text:_.a.other_place_text,primary:Object(v.g)(e.playerNames,"und"),secondary:"".concat(e.points," Punkte")})]},"results-for-player-"+n)}))})},C=n(12),R=n(276),k=n(130),N=n(329),P=n(303),E=n(305),A=n(168),D=n(319),F=n(320),S=n(324),L=n(274),z=n.n(L),G=n(334),I=n(172),W=n(7),T=n(179),B=n(316),M=n(318),V=n(313),H=n(315),K=n(317),Q=n(314),q=n(193),J=n.n(q),U=Object(W.a)((function(e){return Object(T.a)({head:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText,maxWidth:"8rem","&:not(:last-child)":{borderRight:"1px solid rgba(255, 255, 255, 0.5)"}},body:{fontSize:14,maxWidth:"8rem","&:not(:last-child)":{borderRight:"1px solid rgba(224, 224, 224, 1)"}}})}))(V.a),Y=Object(W.a)((function(e){return Object(T.a)({root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}})}))(Q.a),X=Object(k.a)({tableContainer:{borderRadius:0},table:{maxWidth:"80vw"},firstColumn:{fontWeight:"bold"},invalidInput:{color:"crimson",textDecoration:"line-through"},creativeAnswerStarIcon:{paddingRight:"0.2rem",fontSize:"1rem",verticalAlign:"text-top"}}),Z=function(e){var t=X(),n=e.gameConfig,r=e.gameRound,a=e.roundNo,c=e.sortedPlayers,s=function(e){return Object(o.jsxs)(u.a.Fragment,{children:[Object(o.jsx)(G.a,{title:"Als besonders kreativ markiert",placement:"bottom",children:Object(o.jsx)(J.a,{className:t.creativeAnswerStarIcon,color:"secondary"})}),Object(o.jsxs)("span",{children:[e.text," (+",e.points,")"]})]})};return Object(o.jsx)(H.a,{component:I.a,className:t.tableContainer,children:Object(o.jsxs)(B.a,{className:t.table,"aria-label":"Runde ".concat(a," im Detail"),children:[Object(o.jsx)(K.a,{children:Object(o.jsxs)(Q.a,{children:[Object(o.jsx)(U,{children:"Kategorie"}),c.map((function(e,t){return Object(o.jsx)(U,{align:"right",children:e.name},"slf-table-head-cell-for-player-".concat(t))}))]})}),Object(o.jsx)(M.a,{children:n.categories.map((function(e,n){return Object(o.jsxs)(Y,{children:[Object(o.jsx)(U,{component:"th",scope:"row",className:t.firstColumn,children:e}),c.map((function(e,a){var c=r.get(e.id)[n];return Object(o.jsxs)(U,{className:c.valid?"":t.invalidInput,align:"right",children:[c.valid&&c.stars>0?s(c):null,c.valid&&0===c.stars?"".concat(c.text," (+").concat(c.points,")"):null,!c.valid&&c.text?c.text:null,c.valid||c.text?null:Object(o.jsx)("span",{className:"sr-only",children:"Leere Antwort"})]},"slf-table-cell-for-category-".concat(n,"-player-").concat(a))}))]},"slf-table-row-for-category-".concat(n))}))})]})})},$=function(e){var t=e.children,n=e.value,r=e.index,a=Object(R.a)(e,["children","value","index"]);return Object(o.jsx)("div",Object(C.a)(Object(C.a)({role:"tabpanel",hidden:n!==r,id:"scrollable-auto-tabpanel-".concat(r),"aria-labelledby":"scrollable-auto-tab-".concat(r)},a),{},{children:n===r&&t}))},ee=Object(k.a)((function(e){return{root:{flexGrow:1,width:"100%",padding:"0 !important",backgroundColor:e.palette.background.paper}}})),te=function(e){var t=ee(),n=e.gameConfig,r=e.open,a=e.rounds,c=e.sortedPlayers,s=e.onClose,i=u.a.useState(0),l=Object(j.a)(i,2),d=l[0],f=l[1];return Object(o.jsxs)(N.a,{onClose:s,open:r,maxWidth:"lg",children:[Object(o.jsxs)(P.a,{className:t.root,children:[Object(o.jsx)(D.a,{position:"static",color:"default",children:Object(o.jsx)(S.a,{value:d,onChange:function(e,t){return f(t)},indicatorColor:"secondary",textColor:"primary",variant:"scrollable",scrollButtons:"auto",children:a.map((function(e,t){return Object(o.jsx)(F.a,Object(C.a)({label:"Runde ".concat(t+1,": ").concat(n.letters[t])},function(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}(t)),"slf-game-rounds-overview-tab-".concat(t))}))})}),a.map((function(e,t){return Object(o.jsx)($,{value:d,index:t,children:Object(o.jsx)(Z,{gameConfig:n,gameRound:e,roundNo:t+1,sortedPlayers:c})},"slf-game-rounds-overview-tab-panel-".concat(t))}))]}),Object(o.jsx)(E.a,{children:Object(o.jsx)(A.a,{type:"button",onClick:s,children:"Schlie\xdfen"})})]})},ne=function(e){var t=Object(l.useState)(!1),n=Object(j.a)(t,2),r=n[0],a=n[1];return Object(o.jsxs)(u.a.Fragment,{children:[Object(o.jsx)(A.a,{color:"primary",variant:"contained",size:"large",startIcon:Object(o.jsx)(z.a,{}),onClick:function(){return a(!0)},children:"Alle Runden im Detail"}),Object(o.jsx)(te,{gameConfig:e.gameConfig,open:r,rounds:e.rounds,sortedPlayers:e.sortedPlayers,onClose:function(){return a(!1)}})]})},re=n(304),ae=n(321),ce=n(332),se=Object(k.a)({list:{paddingBottom:0},listItem:{padding:"0.25rem 0"},listItemAvatar:{marginRight:"1rem"},primary:{color:"#555555",fontSize:"0.875rem"},secondary:{color:"black",fontSize:"1rem"}}),oe=function(e){var t=se(),n=e.hallOfFameData,r=e.open,a=e.onClose;return Object(o.jsxs)(N.a,{onClose:a,open:r,maxWidth:"lg",children:[Object(o.jsxs)(P.a,{children:[Object(o.jsx)(re.a,{children:"Hall of Fame"}),Object(o.jsx)(i.a,{}),Object(o.jsx)(h.a,{className:t.list,children:n.map((function(e,n){return Object(o.jsxs)(p.a,{className:t.listItem,children:[Object(o.jsx)(ae.a,{className:t.listItemAvatar,children:Object(o.jsx)(ce.a,{icon:Object(o.jsx)(g.a,{}),color:"primary",label:e.playerName})}),Object(o.jsx)(O.a,{primary:e.category,secondary:e.text,classes:{primary:t.primary,secondary:t.secondary}})]},"slf-hall-of-fame-item-".concat(n))}))})]}),Object(o.jsx)(E.a,{children:Object(o.jsx)(A.a,{type:"button",onClick:a,children:"Schlie\xdfen"})})]})},ie=function(e){var t=Object(l.useState)(!1),n=Object(j.a)(t,2),r=n[0],a=n[1];return Object(o.jsxs)(u.a.Fragment,{children:[Object(o.jsxs)(A.a,{color:"primary",variant:"contained",size:"large",startIcon:Object(o.jsx)(J.a,{}),disabled:0===e.hallOfFameData.length,onClick:function(){return a(!0)},children:[Object(o.jsx)("span",{lang:"en",children:"Hall of Fame"}),Object(o.jsx)("span",{className:"sr-only",children:"(Liste der besonders kreativen Antworten)"})]}),Object(o.jsx)(oe,{hallOfFameData:e.hallOfFameData,open:r,onClose:function(){return a(!1)}})]})},le=n(209),ue=n(78),de=n(181),je=n(17),fe=n(184),be=n(275),he=n.n(be),pe=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={gameConfig:null,gameResults:[],gameRounds:[],hallOfFameData:[],sortedPlayers:[]},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this;if(null===this.state.gameConfig)return null;var t=this.state,n=t.gameConfig,r=t.gameResults,a=t.gameRounds,c=t.hallOfFameData,s=t.sortedPlayers,l=Object(o.jsxs)("div",{className:"material-card-style",children:[Object(o.jsx)(ue.a,{text:"Ergebnis"}),Object(o.jsx)("p",{className:"sr-only",role:"alert",children:"Das Spiel ist zu Ende. Die Ergebnisse werden angezeigt."}),Object(o.jsx)(w,{gameResults:r}),Object(o.jsx)(i.a,{}),Object(o.jsxs)("div",{className:he.a.button_wrapper,children:[Object(o.jsx)(ne,{gameConfig:n,rounds:a,sortedPlayers:s}),Object(o.jsx)(ie,{hallOfFameData:c})]})]}),d=Object(o.jsxs)("div",{className:"material-card-style",children:[Object(o.jsx)(ue.a,{text:"Spieleinstellungen"}),Object(o.jsxs)("div",{className:"game-settings",children:[Object(o.jsx)("h4",{children:"Runden"}),Object(o.jsx)("p",{children:n.numberOfRounds}),Object(o.jsx)("h4",{children:"Buchstaben"}),Object(o.jsx)("p",{children:n.letters.join(", ")}),Object(o.jsx)("h4",{children:"Kategorien"}),Object(o.jsx)("p",{children:n.categories.join(", ")})]}),Object(o.jsx)(le.a,{isForGameResultsPage:!0,rules:n.scoringOptions})]});return Object(o.jsxs)(u.a.Fragment,{children:[Object(o.jsxs)("div",{className:"main-content-wrapper",children:[l,d,Object(o.jsx)(de.a,{onReturnToDashboard:function(){return e.props.history.push("/")}})]}),Object(o.jsx)(b,{duration:6e3})]})}},{key:"componentDidMount",value:function(){var e=this.props,t=e.allPlayers,n=e.gameConfig,r=e.gameRounds;null===t||null===n||null===r?this.props.history.push("/"):(this.setState({gameConfig:n,gameResults:Object(fe.b)(t,r),gameRounds:r,hallOfFameData:Object(fe.f)(t,n,r),sortedPlayers:Object(fe.j)(t)}),this.props.onResetAppState())}}]),n}(l.Component);t.default=Object(d.b)((function(e){return e}),(function(e){return{onResetAppState:function(){return e(Object(je.i)())}}}))(pe)}}]);
//# sourceMappingURL=11.eb711a3e.chunk.js.map